<x-frontend.layout>

    <x-section name="styles">
        <style>
            .hwd-inp {
                width: 100% !important;
            }
        </style>
    </x-section>
    <section class="product-page-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div class="product-breadcrumb">
                        <span> <a href="#"> Order </a></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="single-product-img">

                        <!-- ADDED NEW  -->
                        <div class="o-s-main-gal">
                            <ul>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/1.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/1.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/2.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/2.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/3.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/3.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/3.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/3.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/5.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/5.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/6.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/6.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/7.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/7.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/8.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/8.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/9.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/9.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/9.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/9.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/11.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/11.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/12.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/12.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/13.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/13.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/13.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/13.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/13.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/13.jpg') }}" alt="">
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <!-- ADDED NEW  -->

                    </div>
                    <div class="single-product-img-title mt-3">Rollover for closeup view</div>

                </div>
                <!-- end: col-md-5 -->
                <div class="col-md-7">
                    <div class="product-details-wrap">
                        <h3> Premium Dovetail Drawers & Drawer Inserts</h3>
                        <p> Belmont Doors now offer <strong>Half blind Premium Dovetail Drawers</strong> </p>
                        <ul>
                            <li>Position of groove: ½" from bottom)</li>
                            <li>Material Thickness & Species: 5/8” Soft Maple. </li>
                            <li>All Prefinished with our standard three (3) layers of clear lacquer - Our UV finishing
                                is practically
                                VOC
                                free and gives a sophisticated appearance. </li>
                            <li>The drawers have a 10 year warranty </li>
                        </ul>
                        <p><strong> Options include </strong> </p>
                        <ul>
                            <li>Undermount Notches (Back or front) with additional option to install slides and clips
                                (Blum/Hettich/Movento Clips)</li>
                            <li>Standard 1/4” Birch or Special 3/8” Birch Bottom Thickness</li>
                            <li>Bottom grain left to right</li>
                            <li>Add your logo</li>
                        </ul>
                        <p>No minimum quantity</p>
                        <br>
                        <p>Products Include:</p>
                        <ul>
                            <li> (1) Premium Dovetail Drawer</li>
                            <li> (2) Side Scoop 2” Drop from Back to Front (Notch on highest part)</li>
                            <li> (3) Under Sink Dovetail Drawer</li>
                            <li> (4) Bread Box Dovetail Drawer</li>
                            <li> (5) File/Filing Dovetail Drawer</li>
                            <li>(6) Pantry Dovetail Drawer with Rounded Handscoop</li>
                            <li>(7) Pantry Dovetail Drawer with Straight Handscoop</li>
                            <li>(8) Standard Cutlery Divider Insert (4 Spacers) + Dovetail Drawer</li>
                            <li>(9) Standard Cutlery Divider Insert (5 Spacers) + Dovetail Drawer</li>
                            <li>(10) Standard Utensil Divider Insert + Dovetail Drawer</li>
                            <li>(11) Spice Rack + Dovetail Drawer</li>
                            <li>(12) Knife Block + Dovetail Drawer</li>
                            <li>(13) Unequal Height Dovetail Drawer</li>
                            <li>(14) Custom Dovetail Drawer/Divider Insert (Drawings Required)</li>
                            <li>(15) Option to Add Your Branded Logo to (A) Outside Right or (B) Inside Left</li>
                        </ul>
                        <p> MISC:</p>
                        <ul class="product-des-misc">
                            <li>All drawer components are kilned dried.</li>
                            <li>We also have a policy for recycling our wood residues;</li>
                            <li>they are not directed to a landfill. We also recycle other</li>
                            <li>materials (cardboard, paper, steel, etc.)</li>
                        </ul>
                    </div>
                    <!-- end: product details wrap -->
                </div>
                <!-- end: col-md-7 -->
            </div>
            <!-- end: row -->

            {{-- FORM STARTS HERE --}}

            {{-- <x-response></x-response> --}}
            @if (session('success'))
                <div style="background: #088F8F; margin: 5px; padding: 5px 10px; color:white;">
                    {{ session('success') }}
                </div>
            @endif


            <form method="POST" id="__orderForm" action="{{ route('place.order') }}" enctype="multipart/form-data">
                @csrf
                <div class="row">
                    <div class="col-md-2 col-sm-12">
                        <h3 class="add-prod-title">STEP 1: <br />SELECT <br />COMMON <br />OPTIONS** </h3>
                    </div>
                    <div class="col-md-10 col-sm-12">
                        <!-- start: Product Input Group -->
                        <div class="product-input-wrap">
                            <div class="input-group product-input-imperial">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="__unit">Select Imperial (in)/Metric
                                        (mm)</label>
                                </div>
                                <div class="product-select product-select-imperial">
                                    <select name="unit" id="__unit" onchange="changeUnit(this)">
                                        <option disabled selected>Select an Option</option>
                                        <option value="in" {{ session()->get('unit') == 'in' ? 'selected' : '' }}>
                                            IMPERIAL (in)</option>
                                        <option value="mm" {{ session()->get('unit') == 'mm' ? 'selected' : '' }}>
                                            METRIC (mm)</option>
                                    </select>
                                </div>
                                @if ($errors->has('unit'))
                                    <div class="error text-danger">
                                        {{ $errors->first('unit') }}</div>
                                @endif
                                <p><b>Important Note: </b> if Imperial/Metric is changed after selecting, all data
                                    on the page will be reset. </p>
                            </div>
                            <!--  end: Product Input Imperial -->
                            <div class="input-group product-input-thickness">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="selectBottomThickness">Bottom Thickness + Grain
                                        Direction</label>
                                </div>
                                <div class="product-select product-select-thickness">
                                    <select name="bottom_thickness_grain_direction" id="selectBottomThickness">
                                        <option selected="" disabled>Select</option>

                                        @foreach ($bottomThickness as $option)
                                            <option value="{{ $option->id }}">
                                                {{ $option->option }}</option>
                                        @endforeach

                                    </select>
                                </div>
                                @if ($errors->has('bottom_thickness_grain_direction'))
                                    <div class="error text-danger">
                                        {{ $errors->first('bottom_thickness_grain_direction') }}</div>
                                @endif
                            </div>
                            <!--  end: Product Input Bottom Thickness -->
                            <div class="input-group product-input-backnotch">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="selectunit">Back Notch and Drill Undermount
                                        Slides
                                        <span data-bs-toggle="modal" data-bs-target="#backnotchModal"> (Show)
                                        </span> </label>
                                </div>
                                <div class="product-select product-select-backnotch">
                                    <select name="back_notch_drill_undermount_slide" id="select2" class="select2"
                                        required>
                                        <option selected="" disabled>Select</option>
                                        <option value="None"> None</option>
                                        @foreach ($backNotch as $option)
                                            <option value="{{ $option->id }}">{{ $option->option }}</option>
                                        @endforeach
                                    </select>
                                </div>
                                @if ($errors->has('back_notch_drill_undermount_slide'))
                                    <div class="error text-danger">
                                        {{ $errors->first('back_notch_drill_undermount_slide') }}</div>
                                @endif
                            </div>

                            <!-- Back Notch Modal -->
                            <div class="modal fade backnotch_modal" id="backnotchModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Back Notch -->

                            <div class="input-group product-input-frontnotch">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="frontNotchForUndermount">Add Front Notch for
                                        Undermount
                                        Slides
                                        <span data-bs-toggle="modal" data-bs-target="#frontnotchModal"> (Show)
                                        </span></label>
                                </div>
                                <div class="product-select product-select-frontnotch">
                                    <select name="front_notch_undermount_slide" id="frontNotchForUndermount" required>
                                        <option selected="" disabled>Select</option>
                                        <option value="None"> None</option>
                                        @foreach ($frontNotch as $option)
                                            <option value="{{ $option->id }}">{{ $option->option }}</option>
                                        @endforeach
                                    </select>
                                </div>
                                @if ($errors->has('front_notch_undermount_slide'))
                                    <div class="error text-danger">
                                        {{ $errors->first('front_notch_undermount_slide') }}</div>
                                @endif
                            </div>
                            <!-- Back Notch Modal -->
                            <div class="modal fade frontnotch_modal" id="frontnotchModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Bottom Thickness -->
                            <div class="input-group product-input-addinstall">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="brackets">Add + Install Brackets <span
                                            data-bs-toggle="modal" data-bs-target="#addinstallModal"> (Show)
                                        </span> </label>
                                </div>
                                <div class="product-select product-select-addinstall">
                                    <select name="bracket" id="brackets" required>
                                        <option selected="" disabled>Select</option>
                                        <option value="None"> None</option>
                                        @foreach ($bracket as $option)
                                            <option value="{{ $option->id }}">{{ $option->option }}</option>
                                        @endforeach
                                    </select>
                                </div>
                                @if ($errors->has('bracket'))
                                    <div class="error text-danger">
                                        {{ $errors->first('bracket') }}</div>
                                @endif
                            </div>
                            <div class="modal fade frontnotch_modal" id="addinstallModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Bottom Thickness -->
                            <div class="input-group product-input-logobranded ">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="logoBranded"> Logo Branded <span
                                            data-bs-toggle="modal" data-bs-target="#logobrandedModal"> (Show)
                                        </span> </label>
                                </div>
                                <div class="product-select product-select-frontnotch">
                                    <select name="logo_branded" id="logoBranded" required>
                                        <option selected disabled>Select</option>
                                        <option value="None"> None</option>
                                        <option value="Exterior Right Side of the Drawer (ESX)"> Exterior Right Side of
                                            the Drawer (ESX) </option>
                                        <option value="Interior Left Side of the Drawer (ESI)">Interior Left Side of
                                            the Drawer (ESI)</option>
                                    </select>
                                </div>
                                @if ($errors->has('logo_branded'))
                                    <div class="error text-danger">
                                        {{ $errors->first('logo_branded') }}</div>
                                @endif
                            </div>
                            <div class="modal fade frontnotch_modal" id="logobrandedModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Bottom Thickness -->
                            <div class="col-6">
                                <div class="upload_design">
                                    <input type="file" name="brand_logo" id="actual-btn" />
                                </div>
                            </div>
                            <!--  end: upload_design-->
                        </div>
                        <!--  end: Product Input Group -->
                    </div>
                </div>
                <!-- End: row - Input Select Group -->

                <h3 class="add-prod-title">STEP 2: ADD PRODUCTS</h3>

                <div class="v-blocks">
                    <div class="row product-item-row">
                        <div class="col-12 col-md-2 col-sm-12">
                            <div class="input-group">
                                <div class="input-group-append">
                                    <label class="input-group-text font-weight-bold"
                                        for="inputGroupSelect02">Item</label>
                                    <input type="text" value="1" name='id[]' readonly
                                        class="form-control item-number">
                                </div>
                            </div>
                        </div>
                        <!-- end: H (in) -->

                        <div class="col-12 col-md-10 col-sm-12">
                            <div class="d-flex">
                                <div class="input-group-append">
                                    <label class="input-group-text font-weight-bold"
                                        for="inputGroupSelect02">Product</label>
                                </div>
                                <select name="product[]" class="custom-select product_select" id="inputGroupSelect02"
                                    onchange="getSelectedProduct(this)" required="required">
                                    <option selected="" disabled>Select</option>

                                    @forelse ($products as $product)
                                        <option value="{{ $product->id }}">
                                            @if (custom()->online_sequence_code == 1)
                                                (&nbsp;{{ $product->code }}&nbsp;)
                                            @endif
                                            {{ $product->name }}
                                        </option>
                                    @empty
                                        <option disabled>No Products</option>
                                    @endforelse

                                </select>
                            </div>
                            @if ($errors->has('product'))
                                <div class="error text-danger">
                                    {{ $errors->first('product') }}</div>
                            @endif
                        </div>
                        <!-- end: Product Select -->


                        <div class="col-12 col-md-2 col-sm-6 showProductImageDiv">

                        </div>
                        {{-- end: Show Selected Product Button --}}


                        <div class="col-12 col-md-2 col-sm-6 h-100 heightDiv" id="heightDiv1">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text font-weight-bold" id="idwidth">H
                                        ({{ session()->get('unit') ?? 'in' }})</span>
                                </div>
                                <input name="height[]" type="number" value="0" min="0"
                                    class="form-control hwd-inp" step=".01" required>
                                <div id="extraHeightOption" class="width_frac"
                                    {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                    <select name="height_in[]" class="custom-select" id="__heightIn">
                                        <option value="0" selected="">0</option>
                                        <option value="0.062">1/16"</option>
                                        <option value="0.125">1/8"</option>
                                        <option value="0.187">3/16"</option>
                                        <option value="0.25">1/4"</option>
                                        <option value="0.312">5/16"</option>
                                        <option value="0.375">3/8"</option>
                                        <option value="0.437">7/16"</option>
                                        <option value="0.5">1/2"</option>
                                        <option value="0.562">9/16"</option>
                                        <option value="0.625">5/8</option>
                                        <option value="0.687">11/16"</option>
                                        <option value="0.75">3/4"</option>
                                        <option value="0.812">13/16"</option>
                                        <option value="0.875">7/8"</option>
                                        <option value="0.937">15/16"</option>
                                    </select>
                                </div>
                                @if ($errors->has('height'))
                                    <div class="error text-danger">
                                        {{ $errors->first('height') }}</div>
                                @endif
                            </div>
                        </div>
                        <!-- end: H (in) -->

                        <div class="col-12 col-md-2 col-sm-6 h-100 widthDiv">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text font-weight-bold" id="idwidth">W
                                        ({{ session()->get('unit') ?? 'in' }})</span>
                                </div>
                                <input name="width[]" type="number" value="0" min="0"
                                    class="form-control hwd-inp" step=".01" required>
                                <div id="extraWidthOption" class="width_frac"
                                    {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                    <select name="width_in[]" class="custom-select" id="__widthIn">
                                        <option value="0" selected="">0</option>
                                        <option value="0.062">1/16"</option>
                                        <option value="0.125">1/8"</option>
                                        <option value="0.187">3/16"</option>
                                        <option value="0.25">1/4"</option>
                                        <option value="0.312">5/16"</option>
                                        <option value="0.375">3/8"</option>
                                        <option value="0.437">7/16"</option>
                                        <option value="0.5">1/2"</option>
                                        <option value="0.562">9/16"</option>
                                        <option value="0.625">5/8</option>
                                        <option value="0.687">11/16"</option>
                                        <option value="0.75">3/4"</option>
                                        <option value="0.812">13/16"</option>
                                        <option value="0.875">7/8"</option>
                                        <option value="0.937">15/16"</option>
                                    </select>
                                </div>
                                @if ($errors->has('width'))
                                    <div class="error text-danger">
                                        {{ $errors->first('width') }}</div>
                                @endif
                            </div>
                        </div>
                        <!-- end: W (in) -->

                        <div class="col-12 col-md-2 col-sm-6 h-100 depthDiv">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text font-weight-bold" id="idwidth">D
                                        ({{ session()->get('unit') ?? 'in' }})</span>
                                </div>
                                <input name="depth[]" type="number" value="0" min="0"
                                    class="form-control hwd-inp" step=".01">
                                <div id="extraDepthOption" class="width_frac"
                                    {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                    <select name="depth_in[]" class="custom-select" id="__depthIn" required>
                                        <option value="0" selected="">0</option>
                                        <option value="0.062">1/16"</option>
                                        <option value="0.125">1/8"</option>
                                        <option value="0.187">3/16"</option>
                                        <option value="0.25">1/4"</option>
                                        <option value="0.312">5/16"</option>
                                        <option value="0.375">3/8"</option>
                                        <option value="0.437">7/16"</option>
                                        <option value="0.5">1/2"</option>
                                        <option value="0.562">9/16"</option>
                                        <option value="0.625">5/8</option>
                                        <option value="0.687">11/16"</option>
                                        <option value="0.75">3/4"</option>
                                        <option value="0.812">13/16"</option>
                                        <option value="0.875">7/8"</option>
                                        <option value="0.937">15/16"</option>
                                    </select>
                                </div>
                                @if ($errors->has('depth'))
                                    <div class="error text-danger">
                                        {{ $errors->first('depth') }}</div>
                                @endif
                            </div>
                        </div>
                        <!-- end: D (in) -->

                        <div class="col-12 col-md-2 col-sm-6">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text font-weight-bold" id="basic-addon1">Qty</span>
                                </div>
                                <input name="quantity[]" type="number" step="1" value="1"
                                    class="form-control" min="1">
                            </div>
                        </div>
                        <!-- end: Qty -->

                        <div class="col-12 col-md-8 col-sm-12 noteDiv">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text items_notes_text">Notes <br> (Optional)</span>
                                    <span class="alertText text-danger"></span>
                                </div>
                                <textarea name="note[]" class="form-control note" rows="4" aria-label="With textarea" spellcheck="false"></textarea>
                            </div>
                        </div>
                        <!-- end: Notes -->
                        {{-- Note: This Code doesnt work properly --}}
                        <div class="col-6 col-md-6 col-sm-12 designDiv">
                            <div class="upload_design">
                                <input type="file" id="actual-btn-2" class="design" name="design[]" />
                                {{-- <label for="actual-btn-2">
                                        <span id="file-chosen-2" for="actual-btn">
                                            Upload Design
                                            <br />
                                            (pdf, jpg, png, CAD)
                                        </span>
                                        <span id="chosen-btn">
                                            Choose File
                                        </span>
                                    </label> --}}
                            </div>
                            <!--  end: upload_design-->
                        </div>
                        <!-- end:Upload Design -->
                        {{-- <div class="bdr"></div> --}}
                    </div>
                </div>
                <!-- end: row -->


                {{-- Reder New added item here  --}}
                <div id="newItems"></div>

                <div class="row product-btn">
                    <div class="col-12 col-md-12">
                        <div class="add-item-btn">
                            <button type="button" class="btn-dovetail" onclick="addNewItem();">Add Another
                                Item</button>
                        </div>
                    </div>

                    <div class="wish-cart-btn">
                        <input type="hidden" name="wishlist_name" id="wishlist_name">
                        <button type="submit" name="action" value="wishlist"
                            class="btn-dovetail orderFormSubmitBtn wishlist-btn">Add
                            to
                            Wishlist</button>
                        <button type="submit" name="action" class="btn-dovetail proceedToCart cart-btn">Proceed
                            to cart</button>
                    </div>
                </div>
                <!-- end: row - wishlist -->
            </form>
            {{-- FORM ENDS HERE --}}

            <div class="product-description">

                <h4>The Fine Print. </h4>
                <div class="product-description-wrap">
                    <ul class="">
                        <li> Adjustments to Rail size is free and it’s not considered a custom order. Please include
                            note and/or
                            attached drawings.</li>
                        <li>Priming options available at CART checkout.</li>
                        <li>Belmont Doors reserve the right to adjust pricing upon receiving drawing(s). If a price
                            adjustment
                            is required, we will contact and confirm approval before proceeding.</li>
                        <li>Additional programming charges, drawing(s), approval and payment will be required. </li>
                        <li> <strong> ✝ </strong> Frame/Mullion Lites $137.50 programming charge/size, additional
                            notes/drawings, approval may be required.</li>
                        <li>Due to the custom nature of our products and its varying factors, Delivery Charges are
                            calculated
                            after order is placed. Delivery will be calculated based on shipping destination, weight,
                            size and
                            quantity of items ordered and if skid is required. Acknowledgement is required at checkout.
                        </li>
                        <li>For additional details, please visit our FAQ, Terms and Conditions or simply call us at
                            +1.905.282.1722 (Monday - Thursday, 8 am - 4 pm, Friday, 8 am - 3 pm). </li>

                    </ul>
                </div>
            </div>
            <!-- end: product description -->

        </div>
        <!-- end: row -->
        </div>

        {{-- wishlist model form --}}
        <div class="modal fade backnotch_modal" id="wishlistModel" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="form-row row">
                            <label class="col-4">Wishlist Name:</label>
                            <input type="text" id="val_wishlist_name" class="input-control col-6">
                        </div>
                        <button type="button" class="btn btn-sm btn-primary" id="validataWishlist">Save to
                            Wishlist</button>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </section>

    <x-frontend.section name='scripts'>
        @if (session('storage'))
            <script>
                localStorage.clear();
            </script>
        @endif
        <script>
            $.ajaxSetup({
                headers: {
                    'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                }
            });


            // check which button is going to submit the form
            $('.orderFormSubmitBtn').click(function(e) {
                e.preventDefault();
                var unit = $('#__unit').val();
                var sbt = $('#selectBottomThickness').val();
                var bn = $('#select2').val();
                var fn = $('#frontNotchForUndermount').val();
                var bkt = $('#brackets').val();
                var lb = $('#logoBranded').val();
                var product = $('#inputGroupSelect02').val();
                let h = $('input[name="height[]"]').map(function() {
                    return $(this).val();
                }).get();
                let w = $('input[name="width[]"]').map(function() {
                    return $(this).val();
                }).get();
                let d = $('input[name="depth[]"]').map(function() {
                    return $(this).val();
                }).get();
                var formCondition = true;

                if (!unit) {
                    alert('Please select Imperial (in)/Metric (mm)');
                    formCondition = false;
                } else if (!sbt) {
                    alert('Please select Bottom Thickness + Grain Direction');
                    formCondition = false;
                } else if (!bn) {
                    alert('Please select Back Notch and Drill Undermount Slides');
                    formCondition = false;
                } else if (!fn) {
                    alert('Please select Add Front Notch for Undermount Slides');
                    formCondition = false;
                } else if (!bkt) {
                    alert('Please select Add + Install Brackets');
                    formCondition = false;
                } else if (!lb) {
                    alert('Please select Logo Branded');
                    formCondition = false;
                } else if (!product) {
                    alert('Please select Product');
                    formCondition = false;
                } else {
                    if ($('#__unit').val() == 'in') {

                        for (let i = 0; i < h.length; i++) {
                            if (!($('#heightDiv' + (i + 1)).css("visibility") == "hidden")) {

                                if (h[i] <= 0 || h[i] > 12) {
                                    alert('Maximum Height is 12"');
                                    formCondition = false;
                                } else if (w[i] <= 0 || w[i] > 47.5) {
                                    alert('Maximum Width is 47.5"');
                                    formCondition = false;

                                } else if (d[i] <= 0 || d[i] > 47.5) {
                                    alert('Maximum Depth is 47.5"');
                                    formCondition = false;

                                } else if (w[i] > 32 && d[i] > 32) {
                                    alert('Max material size is 47.5" * 32" \nor\nMax material size is 32" * 47.5"');
                                    formCondition = false;
                                }
                            }

                        }
                    } else {
                        for (let i = 0; i < h.length; i++) {
                            if (!($('#heightDiv' + (i + 1)).css("visibility") == "hidden")) {
                                if (h[i] <= 0 || h[i] > 304.8) {
                                    alert('Maximum Height is 304.8mm');
                                    formCondition = false;
                                } else if (w[i] <= 0 || w[i] > 1206.5) {
                                    alert('Maximum Width is 1206.5mm');
                                    formCondition = false;

                                } else if (d[i] <= 0 || d[i] > 1206.5) {
                                    alert('Maximum Depth is 1206.5mm');
                                    formCondition = false;

                                } else if (w[i] > 812.8 && d[i] > 812.8) {
                                    alert(
                                        'Max material size is 1206.5mm * 812.8mm \nor\nMax material size is 812.8mm * 1206.5mm'
                                    );
                                    formCondition = false;
                                }
                            }
                        }
                    }
                }
                if (formCondition) {

                    $("#wishlistModel").modal('show');
                }
            });

            $('.proceedToCart').click(function(e) {
                e.preventDefault();
                let h = $('input[name="height[]"]').map(function() {
                    return $(this).val();
                }).get();
                let w = $('input[name="width[]"]').map(function() {
                    return $(this).val();
                }).get();
                let d = $('input[name="depth[]"]').map(function() {
                    return $(this).val();
                }).get();
                var formCondition = true;
                if ($('#__unit').val() == 'in') {

                    for (let i = 0; i < h.length; i++) {
                        if (!($('#heightDiv' + (i + 1)).css("visibility") == "hidden")) {

                            if (h[i] <= 0 || h[i] > 12) {
                                alert('Maximum Height is 12"');
                                formCondition = false;
                            } else if (w[i] <= 0 || w[i] > 47.5) {
                                alert('Maximum Width is 47.5"');
                                formCondition = false;

                            } else if (d[i] <= 0 || d[i] > 47.5) {
                                alert('Maximum Depth is 47.5"');
                                formCondition = false;

                            } else if (w[i] > 32 && d[i] > 32) {
                                alert('Max material size is 47.5" * 32" \nor\nMax material size is 32" * 47.5"');
                                formCondition = false;
                            }
                        }

                    }
                } else {
                    for (let i = 0; i < h.length; i++) {
                        if (!($('#heightDiv' + (i + 1)).css("visibility") == "hidden")) {
                            if (h[i] <= 0 || h[i] > 304.8) {
                                alert('Maximum Height is 304.8mm');
                                formCondition = false;
                            } else if (w[i] <= 0 || w[i] > 1206.5) {
                                alert('Maximum Width is 1206.5mm');
                                formCondition = false;

                            } else if (d[i] <= 0 || d[i] > 1206.5) {
                                alert('Maximum Depth is 1206.5mm');
                                formCondition = false;

                            } else if (w[i] > 812.8 && d[i] > 812.8) {
                                alert(
                                    'Max material size is 1206.5mm * 812.8mm \nor\nMax material size is 812.8mm * 1206.5mm'
                                );
                                formCondition = false;
                            }
                        }
                    }
                }

                if (formCondition) {
                    $('form').submit();
                }





            });

            $("#validataWishlist").click(function() {
                var name = $('#val_wishlist_name').val();
                var id = '{{ auth()->id() }}';
                $.ajax({
                    type: 'get',
                    url: "{{ route('ajaxValidateWishlistName') }}",
                    data: {
                        id: id,
                        name: name,
                        cart: 0
                    },
                    success: (response) => {
                        if (response.success == true) {
                            let msg = 'Wishlist already exists. Do you want to add number (' +
                                response.number + ') to wishlist name?';
                            alert(msg);
                            if (confirm(msg) == true) {
                                $('#wishlist_name').val(name + ' (' + response.number + ')');
                                $('#__orderForm').submit();
                            }

                        } else {
                            $('#wishlist_name').val(name);
                            $('#__orderForm').submit();
                        }

                        $("#wishlistModel").modal('hide');

                    },
                    error: function(errors) {
                        console.log(errors);
                    }

                });
            });



            // ajax form validation 
            // $('#__orderForm').submit(function(e) {
            //     e.preventDefault();
            //     let formData = new FormData(this);

            //     $.ajax({
            //         type: 'POST',
            //         url: "{{ route('ajaxOrderValidation') }}",
            //         data: formData,
            //         contentType: false,
            //         processData: false,
            //         success: (response) => {
            //             if (response.success == true) {
            //                 this.submit();
            //             } else {
            //                 $('#wishlist_name').val('');
            //                 $('#ajax-error').empty();
            //                 response.errors.forEach(function(error, index) {
            //                     $('#ajax-error').append(
            //                         '<div style="background: #FF5733; padding: 5px 10px; color:white;">' +
            //                         error + '</div>'
            //                     );

            //                     $('html, body').animate({
            //                         scrollTop: $("#ajax-error").offset().top
            //                     }, 10);
            //                 });

            //             }
            //         },
            //         error: function(errors) {
            //             console.log(errors);
            //         }

            //     });
            // });

            function changeUnit(el) {
                let unit = $(el).val();

                $.ajax({
                    url: "{{ route('changeUnit') }}",
                    method: 'get',
                    data: {
                        unit: unit
                    },
                    success: function(result) {
                        location.reload();
                    },
                    errors: function(error) {
                        console.log(error);
                    }
                });

            }

            function addNewItem() {
                let id = $('input[name="id[]"]:last').val();
                $.ajax({
                    url: "{{ route('addNewItem') }}?count=" + $("#newItems").children().length,
                    method: 'get',
                    data: {
                        id: id
                    },
                    success: function(result) {
                        $('#newItems').append(result);
                    },
                    errors: function(error) {
                        console.log(error);
                    }
                });
            }

            function removeItem(elm) {
                let item = $(elm).closest('.v-blocks');
                item.remove();
            }

            // Add image on select
            function getSelectedProduct(el) {
                let div = $(el).closest('.col-12');
                let ProductImageDiv = div.siblings('.showProductImageDiv');

                div.siblings('.noteDiv').find(".alertText").text('');

                $.ajax({
                    url: "{{ route('getProductImage') }}",
                    method: 'get',
                    data: {
                        id: $(el).val(),
                    },
                    success: function(result) {
                        ProductImageDiv.html(result.html);

                        if (result.type == 1) {
                            div.siblings('.widthDiv').css('visibility', 'hidden');
                            div.siblings('.heightDiv').css('visibility', 'hidden');
                            div.siblings('.depthDiv').css('visibility', 'hidden');
                            div.siblings('.noteDiv').find(".alertText").text(
                                'Note: For Custom Product Design and additional note is required');
                        } else {
                            div.siblings('.widthDiv').css('visibility', 'visible');
                            div.siblings('.heightDiv').css('visibility', 'visible');
                            div.siblings('.depthDiv').css('visibility', 'visible');


                        }

                    },
                    errors: function(error) {
                        console.log(error);
                    }
                });
            }
        </script>

    </x-frontend.section>

</x-frontend.layout>
if width i>32 then depth<=32
