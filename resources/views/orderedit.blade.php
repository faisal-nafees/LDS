<x-frontend.layout>

    <x-section name="styles">
        <style>
            .logo-img {
                max-width: 200px;
                max-height: 200px;
            }

            .input-group>.form-control {
                width: 100% !important;
            }
        </style>
    </x-section>


    <section class="product-page-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div class="product-breadcrumb">
                        <span> <a href="#"> Order </a></span>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="single-product-img">

                        <!-- ADDED NEW  -->
                        <div class="o-s-main-gal">
                            <ul>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/1.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/1.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/2.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/2.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/3.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/3.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/3.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/3.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/5.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/5.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/6.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/6.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/7.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/7.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/8.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/8.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/9.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/9.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/9.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/9.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/11.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/11.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/12.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/12.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/13.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/13.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/13.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/13.jpg') }}" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="{{ asset('public/frontend/img/gallery/13.jpg') }}">
                                        <img src="{{ asset('public/frontend/img/gallery/13.jpg') }}" alt="">
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <!-- ADDED NEW  -->

                    </div>
                    <div class="single-product-img-title mt-3">Rollover for closeup view</div>

                </div>
                <!-- end: col-md-5 -->
                <div class="col-md-7">
                    <div class="product-details-wrap">
                        <h3> Premium Dovetail Drawers & Drawer Inserts</h3>
                        <p> Belmont Doors now offer <strong>Half blind Premium Dovetail Drawers</strong> </p>
                        <ul>
                            <li>Position of groove: ½" from bottom)</li>
                            <li>Material Thickness & Species: 5/8” Soft Maple. </li>
                            <li>All Prefinished with our standard three (3) layers of clear lacquer - Our UV finishing
                                is practically
                                VOC
                                free and gives a sophisticated appearance. </li>
                            <li>The drawers have a 10 year warranty </li>
                        </ul>
                        <p><strong> Options include </strong> </p>
                        <ul>
                            <li>Undermount Notches (Back or front) with additional option to install slides and clips
                                (Blum/Hettich/Movento Clips)</li>
                            <li>Standard 1/4” Birch or Special 3/8” Birch Bottom Thickness</li>
                            <li>Bottom grain left to right</li>
                            <li>Add your logo</li>
                        </ul>
                        <p>No minimum quantity</p>
                        <br>
                        <p>Products Include:</p>
                        <ul>
                            <li> (1) Premium Dovetail Drawer</li>
                            <li> (2) Side Scoop 2” Drop from Back to Front (Notch on highest part)</li>
                            <li> (3) Under Sink Dovetail Drawer</li>
                            <li> (4) Bread Box Dovetail Drawer</li>
                            <li> (5) File/Filing Dovetail Drawer</li>
                            <li>(6) Pantry Dovetail Drawer with Rounded Handscoop</li>
                            <li>(7) Pantry Dovetail Drawer with Straight Handscoop</li>
                            <li>(8) Standard Cutlery Divider Insert (4 Spacers) + Dovetail Drawer</li>
                            <li>(9) Standard Cutlery Divider Insert (5 Spacers) + Dovetail Drawer</li>
                            <li>(10) Standard Utensil Divider Insert + Dovetail Drawer</li>
                            <li>(11) Spice Rack + Dovetail Drawer</li>
                            <li>(12) Knife Block + Dovetail Drawer</li>
                            <li>(13) Unequal Height Dovetail Drawer</li>
                            <li>(14) Custom Dovetail Drawer/Divider Insert (Drawings Required)</li>
                            <li>(15) Option to Add Your Branded Logo to (A) Outside Right or (B) Inside Left</li>
                        </ul>
                        <p> MISC:</p>
                        <ul class="product-des-misc">
                            <li>All drawer components are kilned dried.</li>
                            <li>We also have a policy for recycling our wood residues;</li>
                            <li>they are not directed to a landfill. We also recycle other</li>
                            <li>materials (cardboard, paper, steel, etc.)</li>
                        </ul>
                    </div>
                    <!-- end: product details wrap -->
                </div>
                <!-- end: col-md-7 -->
            </div>
            <!-- end: row -->

            {{-- FORM STARTS HERE --}}

            <x-response></x-response>


            <form method="POST" id="__orderEditForm" action="{{ route('place.order.update') }}"
                enctype="multipart/form-data">
                @csrf
                <div class="row">
                    <div class="col-md-2 col-sm-12">
                        <h3 class="add-prod-title">STEP 1: <br />SELECT <br />COMMON <br />OPTIONS** </h3>
                    </div>
                    <div class="col-md-10 col-sm-12">
                        <!-- start: Product Input Group -->
                        <div class="product-input-wrap">
                            <div class="input-group product-input-imperial">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="__unit">Select Imperial (in)/Metric
                                        (mm)</label>
                                </div>
                                <div class="product-select product-select-imperial">
                                    <select name="unit" id="__unit">
                                        <option value="in" {{ $basicDetail['unit'] == 'in' ? 'selected' : '' }}>
                                            IMPERIAL
                                            (in)</option>
                                        <option value="mm" {{ $basicDetail['unit'] == 'mm' ? 'selected' : '' }}>
                                            METRIC (mm)
                                        </option>
                                    </select>
                                </div>
                                <p><b>Important Note: </b> if Imperial/Metric is changed after selecting, all data
                                    on the page will be reset. </p>
                            </div>
                            <!--  end: Product Input Imperial -->
                            <div class="input-group product-input-thickness">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="selectBottomThickness">Bottom Thickness + Grain
                                        Direction</label>
                                </div>
                                <div class="product-select product-select-thickness">
                                    <select name="bottom_thickness_grain_direction" id="selectBottomThickness">
                                        <option value="None"
                                            {{ $basicDetail['bottom_thickness_grain_direction_id'] == 'none' ? 'selected' : '' }}>
                                            None
                                        </option>
                                        @foreach ($bottomThickness as $option)
                                            <option value="{{ $option->id }}"
                                                {{ $basicDetail['bottom_thickness_grain_direction_id'] == $option->id ? 'selected' : '' }}>
                                                {{ $option->option }}</option>
                                        @endforeach
                                    </select>
                                </div>
                            </div>
                            <!--  end: Product Input Bottom Thickness -->
                            <div class="input-group product-input-backnotch">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="selectunit">Back Notch and Drill Undermount
                                        Slides
                                        <span data-bs-toggle="modal" data-bs-target="#backnotchModal"> (Show)
                                        </span> </label>
                                </div>
                                <div class="product-select product-select-backnotch">
                                    <select name="back_notch_drill_undermount_slide" id="select2" class="select2"
                                        required>
                                        <option value="None"
                                            {{ $basicDetail['back_notch_drill_undermount_slide_id'] == 'none' ? 'selected' : '' }}>
                                            None
                                        </option>
                                        @foreach ($backNotch as $option)
                                            <option value="{{ $option->id }}"
                                                {{ $basicDetail['back_notch_drill_undermount_slide_id'] == $option->id ? 'selected' : '' }}>
                                                {{ $option->option }}</option>
                                        @endforeach
                                    </select>
                                </div>
                            </div>

                            <!-- Back Notch Modal -->
                            <div class="modal fade backnotch_modal" id="backnotchModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Back Notch -->

                            <div class="input-group product-input-frontnotch">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="frontNotchForUndermount">Add Front Notch for
                                        Undermount
                                        Slides
                                        <span data-bs-toggle="modal" data-bs-target="#frontnotchModal"> (Show)
                                        </span></label>
                                </div>
                                <div class="product-select product-select-frontnotch">
                                    <select name="front_notch_undermount_slide" id="frontNotchForUndermount" required>
                                        <option value="None"
                                            {{ $basicDetail['front_notch_undermount_slide_id'] == 'none' ? 'selected' : '' }}>
                                            None
                                        </option>
                                        @foreach ($frontNotch as $option)
                                            <option value="{{ $option->id }}"
                                                {{ $basicDetail['front_notch_undermount_slide_id'] == $option->id ? 'selected' : '' }}>
                                                {{ $option->option }}</option>
                                        @endforeach
                                    </select>
                                </div>
                            </div>
                            <!-- Back Notch Modal -->
                            <div class="modal fade frontnotch_modal" id="frontnotchModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Bottom Thickness -->
                            <div class="input-group product-input-addinstall">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="brackets">Add + Install Brackets <span
                                            data-bs-toggle="modal" data-bs-target="#addinstallModal"> (Show)
                                        </span> </label>
                                </div>
                                <div class="product-select product-select-addinstall">
                                    <select name="bracket" id="brackets" required>
                                        <option value="None"
                                            {{ $basicDetail['bracket_id'] == 'none' ? 'selected' : '' }}> None
                                        </option>
                                        @foreach ($bracket as $option)
                                            <option value="{{ $option->id }}"
                                                {{ $basicDetail['bracket_id'] == $option->id ? 'selected' : '' }}>
                                                {{ $option->option }}</option>
                                        @endforeach

                                    </select>
                                </div>
                            </div>
                            <div class="modal fade frontnotch_modal" id="addinstallModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Bottom Thickness -->
                            <div class="input-group product-input-logobranded ">
                                <div class="product-input-label">
                                    <label class="input-group-text" for="logoBranded"> Logo Branded <span
                                            data-bs-toggle="modal" data-bs-target="#logobrandedModal"> (Show)
                                        </span> </label>
                                </div>
                                <div class="product-select product-select-frontnotch">
                                    <select name="logo_branded" id="logoBranded" required>
                                        <option value="None"
                                            {{ $basicDetail['logo_branded'] == 'None' ? 'selected' : '' }}>
                                            None</option>
                                        <option value="Exterior Right Side of the Drawer (ESX)"
                                            {{ $basicDetail['logo_branded'] == 'Exterior Right Side of the Drawer (ESX)' ? 'selected' : '' }}>
                                            Exterior Right Side
                                            of
                                            the Drawer (ESX) </option>
                                        <option value="Interior Left Side of the Drawer (ESI)"
                                            {{ $basicDetail['logo_branded'] == 'Interior Left Side of the Drawer (ESI)' ? 'selected' : '' }}>
                                            Interior Left Side
                                            of
                                            the Drawer (ESI)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="modal fade frontnotch_modal" id="logobrandedModal" tabindex="-1"
                                aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <img src="https://shop.mdfcabinetdoors.store/img/product/lip.png"
                                                alt="">
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary"
                                                data-bs-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  end: Product Input Bottom Thickness -->

                            <div class="row">
                                <div class="col-6">
                                    @if (!is_null($basicDetail['brand_logo']))
                                        <img src="{{ asset($basicDetail['brand_logo']) }}" alt=""
                                            class="logo-img">
                                    @else
                                        <img src="http://fakeimg.pl/200x130?text=No%20Image%20Here&font=bebas"
                                            alt="" class="logo-img">
                                    @endif
                                </div>
                                <div class="col-6">
                                    <div class="upload_design">
                                        <input type="file" name="brand_logo" id="actual-btn" />
                                    </div>
                                </div>
                            </div>
                            <!--  end: upload_design-->
                        </div>
                        <!--  end: Product Input Group -->
                    </div>
                </div>
                <!-- End: row - Input Select Group -->

                <h3 class="add-prod-title">STEP 2: ADD PRODUCTS</h3>

                @php
                    if (is_null($items)) {
                        $items = [];
                    }
                @endphp

                @forelse ($items as $order)
                    <div class="v-blocks">
                        <div class="row product-item-row">
                            <div class="col-12 col-md-2 col-sm-12">
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <label class="input-group-text font-weight-bold"
                                            for="inputGroupSelect02">Item</label>
                                        <input type="text" value="{{ $order['id'] }}" name='id[]' readonly
                                            class="form-control item-number">
                                    </div>
                                </div>
                            </div>
                            <!-- end: H (in) -->

                            <div class="col-12 col-md-10 col-sm-12">
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <label class="input-group-text font-weight-bold"
                                            for="inputGroupSelect02">Product</label>
                                    </div>
                                    <select name="product[]" class="custom-select product_select"
                                        id="inputGroupSelect02" onchange="getSelectedProduct(this)"
                                        required="required">
                                        <option selected="" disabled>Select</option>

                                        @forelse ($products as $product)
                                            <option value="{{ $product->id }}"
                                                {{ $product->id == $order['drawer_product_id'] ? 'selected' : '' }}>
                                                {{ $product->name }}
                                            </option>
                                        @empty
                                            <option disabled>No Products</option>
                                        @endforelse

                                    </select>
                                </div>
                            </div>
                            <!-- end: Product Select -->


                            <div class="col-12 col-md-2 col-sm-6 showProductImageDiv">

                            </div>
                            {{-- end: Show Selected Product Button --}}


                            <div class="col-12 col-md-2 col-sm-6 heightDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="idwidth">H
                                            ({{ session()->get('unit') }})
                                        </span>
                                    </div>
                                    <input name="height[]" type="number" value="{{ $order['height'] }}"
                                        min="0" class="form-control hwd-inp" step=".01" required>
                                    <div id="extraHeightOption" class="width_frac"
                                        {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                        <select name="height_in[]" class="custom-select" id="__heightIn">
                                            <option value="0">0</option>
                                            <option value="0.062"
                                                {{ $order['additional_height'] == '0.062' ? 'selected' : '' }}>1/16"
                                            </option>
                                            <option value="0.125"
                                                {{ $order['additional_height'] == '0.125' ? 'selected' : '' }}>1/8"
                                            </option>
                                            <option value="0.187"
                                                {{ $order['additional_height'] == '0.187' ? 'selected' : '' }}>3/16"
                                            </option>
                                            <option value="0.25"
                                                {{ $order['additional_height'] == '0.25' ? 'selected' : '' }}>1/4"
                                            </option>
                                            <option value="0.312"
                                                {{ $order['additional_height'] == '0.312' ? 'selected' : '' }}>5/16"
                                            </option>
                                            <option value="0.375"
                                                {{ $order['additional_height'] == '0.375' ? 'selected' : '' }}>3/8"
                                            </option>
                                            <option value="0.437"
                                                {{ $order['additional_height'] == '0.437' ? 'selected' : '' }}>7/16"
                                            </option>
                                            <option value="0.5"
                                                {{ $order['additional_height'] == '0.5' ? 'selected' : '' }}>1/2"
                                            </option>
                                            <option value="0.562"
                                                {{ $order['additional_height'] == '0.562' ? 'selected' : '' }}>9/16"
                                            </option>
                                            <option value="0.625"
                                                {{ $order['additional_height'] == '0.625' ? 'selected' : '' }}>5/8
                                            </option>
                                            <option value="0.687"
                                                {{ $order['additional_height'] == '0.687' ? 'selected' : '' }}>11/16"
                                            </option>
                                            <option value="0.75"
                                                {{ $order['additional_height'] == '0.75' ? 'selected' : '' }}>3/4"
                                            </option>
                                            <option value="0.812"
                                                {{ $order['additional_height'] == '0.812' ? 'selected' : '' }}>13/16"
                                            </option>
                                            <option value="0.875"
                                                {{ $order['additional_height'] == '0.875' ? 'selected' : '' }}>7/8"
                                            </option>
                                            <option value="0.937"
                                                {{ $order['additional_height'] == '0.937' ? 'selected' : '' }}>15/16"
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- end: H (in) -->

                            <div class="col-12 col-md-2 col-sm-6 widthDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="idwidth">W
                                            ({{ session()->get('unit') }})</span>
                                    </div>
                                    <input name="width[]" type="number" value="{{ $order['width'] }}"
                                        min="0" class="form-control hwd-inp" step=".01" required>
                                    <div id="extraWidthOption" class="width_frac"
                                        {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                        <select name="width_in[]" class="custom-select" id="__widthIn">
                                            v <option value="0">0</option>
                                            <option value="0.062"
                                                {{ $order['additional_width'] == '0.062' ? 'selected' : '' }}>1/16"
                                            </option>
                                            <option value="0.125"
                                                {{ $order['additional_width'] == '0.125' ? 'selected' : '' }}>1/8"
                                            </option>
                                            <option value="0.187"
                                                {{ $order['additional_width'] == '0.187' ? 'selected' : '' }}>3/16"
                                            </option>
                                            <option value="0.25"
                                                {{ $order['additional_width'] == '0.25' ? 'selected' : '' }}>1/4"
                                            </option>
                                            <option value="0.312"
                                                {{ $order['additional_width'] == '0.312' ? 'selected' : '' }}>5/16"
                                            </option>
                                            <option value="0.375"
                                                {{ $order['additional_width'] == '0.375' ? 'selected' : '' }}>3/8"
                                            </option>
                                            <option value="0.437"
                                                {{ $order['additional_width'] == '0.437' ? 'selected' : '' }}>7/16"
                                            </option>
                                            <option value="0.5"
                                                {{ $order['additional_width'] == '0.5' ? 'selected' : '' }}>1/2"
                                            </option>
                                            <option value="0.562"
                                                {{ $order['additional_width'] == '0.562' ? 'selected' : '' }}>9/16"
                                            </option>
                                            <option value="0.625"
                                                {{ $order['additional_width'] == '0.625' ? 'selected' : '' }}>5/8
                                            </option>
                                            <option value="0.687"
                                                {{ $order['additional_width'] == '0.687' ? 'selected' : '' }}>11/16"
                                            </option>
                                            <option value="0.75"
                                                {{ $order['additional_width'] == '0.75' ? 'selected' : '' }}>3/4"
                                            </option>
                                            <option value="0.812"
                                                {{ $order['additional_width'] == '0.812' ? 'selected' : '' }}>13/16"
                                            </option>
                                            <option value="0.875"
                                                {{ $order['additional_width'] == '0.875' ? 'selected' : '' }}>7/8"
                                            </option>
                                            <option value="0.937"
                                                {{ $order['additional_width'] == '0.937' ? 'selected' : '' }}>15/16"
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- end: W (in) -->

                            <div class="col-12 col-md-2 col-sm-6 depthDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="idwidth">D
                                            (<span class="__type">in</span>)</span>
                                    </div>
                                    <input name="depth[]" type="number" value="{{ $order['depth'] }}"
                                        min="0" class="form-control hwd-inp" step=".01">
                                    <div id="extraDepthOption" class="width_frac"
                                        {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                        <select name="depth_in[]" class="custom-select" id="__depthIn" required>
                                            <option value="0">0</option>
                                            <option value="0.062"
                                                {{ $order['additional_depth'] == '0.062' ? 'selected' : '' }}>1/16"
                                            </option>
                                            <option value="0.125"
                                                {{ $order['additional_depth'] == '0.125' ? 'selected' : '' }}>1/8"
                                            </option>
                                            <option value="0.187"
                                                {{ $order['additional_depth'] == '0.187' ? 'selected' : '' }}>3/16"
                                            </option>
                                            <option value="0.25"
                                                {{ $order['additional_depth'] == '0.25' ? 'selected' : '' }}>1/4"
                                            </option>
                                            <option value="0.312"
                                                {{ $order['additional_depth'] == '0.312' ? 'selected' : '' }}>5/16"
                                            </option>
                                            <option value="0.375"
                                                {{ $order['additional_depth'] == '0.375' ? 'selected' : '' }}>3/8"
                                            </option>
                                            <option value="0.437"
                                                {{ $order['additional_depth'] == '0.437' ? 'selected' : '' }}>7/16"
                                            </option>
                                            <option value="0.5"
                                                {{ $order['additional_depth'] == '0.5' ? 'selected' : '' }}>1/2"
                                            </option>
                                            <option value="0.562"
                                                {{ $order['additional_depth'] == '0.562' ? 'selected' : '' }}>9/16"
                                            </option>
                                            <option value="0.625"
                                                {{ $order['additional_depth'] == '0.625' ? 'selected' : '' }}>5/8
                                            </option>
                                            <option value="0.687"
                                                {{ $order['additional_depth'] == '0.687' ? 'selected' : '' }}>11/16"
                                            </option>
                                            <option value="0.75"
                                                {{ $order['additional_depth'] == '0.75' ? 'selected' : '' }}>3/4"
                                            </option>
                                            <option value="0.812"
                                                {{ $order['additional_depth'] == '0.812' ? 'selected' : '' }}>13/16"
                                            </option>
                                            <option value="0.875"
                                                {{ $order['additional_depth'] == '0.875' ? 'selected' : '' }}>7/8"
                                            </option>
                                            <option value="0.937"
                                                {{ $order['additional_depth'] == '0.937' ? 'selected' : '' }}>15/16"
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- end: D (in) -->

                            <div class="col-12 col-md-2 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="basic-addon1">Qty</span>
                                    </div>
                                    <input name="quantity[]" type="number" step="1"
                                        value="{{ $order['quantity'] }}" class="form-control" min="1">
                                </div>
                            </div>
                            <!-- end: Qty -->

                            <div class="col-12 col-md-8 col-sm-12 noteDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text items_notes_text">Notes <br> (Optional)</span>
                                    </div>
                                    <textarea name="note[]" class="form-control items_notes" rows="4" aria-label="With textarea"
                                        spellcheck="false"> {{ $order['note'] }}</textarea>
                                </div>
                            </div>

                            <div class="row designDiv">
                                <div class="col-6">
                                    @if (!is_null($order['design']))
                                        <img src="{{ asset($order['design']) }}" alt="" class="logo-img">
                                    @else
                                        <img src="http://fakeimg.pl/200x130?text=No%20Image%20Here&font=bebas"
                                            alt="" class="logo-img">
                                    @endif
                                </div>
                                <div class="col-6 col-md-6 col-sm-12">
                                    <div class="upload_design">
                                        <input type="file" id="actual-btn-2" name="design[]" />
                                    </div>
                                    <!--  end: upload_design-->
                                </div>
                            </div>

                            @if ($order['id'] > 1)
                                <div class="col-12 col-md-4 col-sm-12">
                                    <div class="remove-btn">
                                        <button type="button" class="btn-dovetail"
                                            onclick="removeItem(this)">Remove</button>
                                    </div>
                                </div>
                            @endif
                        </div>
                    </div>
                @empty
                    <div class="v-blocks">
                        <div class="row product-item-row">
                            <div class="col-12 col-md-2 col-sm-12">
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <label class="input-group-text font-weight-bold"
                                            for="inputGroupSelect02">Item</label>
                                        <input type="text" value="1" name='id[]' readonly
                                            class="form-control item-number">
                                    </div>
                                </div>
                            </div>
                            <!-- end: H (in) -->

                            <div class="col-12 col-md-10 col-sm-12">
                                <div class="input-group">
                                    <div class="input-group-append">
                                        <label class="input-group-text font-weight-bold"
                                            for="inputGroupSelect02">Product</label>
                                    </div>
                                    <select name="product[]" class="custom-select product_select"
                                        id="inputGroupSelect02" onchange="getSelectedProduct(this)"
                                        required="required">
                                        <option selected="" disabled>Select</option>

                                        @forelse ($products as $product)
                                            <option value="{{ $product->id }}">
                                                {{ $product->name }}
                                            </option>
                                        @empty
                                            <option disabled>No Products</option>
                                        @endforelse

                                    </select>
                                </div>
                            </div>
                            <!-- end: Product Select -->


                            <div class="col-12 col-md-2 col-sm-6 showProductImageDiv">

                            </div>
                            {{-- end: Show Selected Product Button --}}


                            <div class="col-12 col-md-2 col-sm-6 heightDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="idwidth">H
                                            ({{ session()->get('unit') ?? 'in' }})</span>
                                    </div>
                                    <input name="height[]" type="number" value="0" min="0"
                                        class="form-control hwd-inp" step=".01" required>
                                    <div id="extraHeightOption" class="width_frac"
                                        {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                        <select name="height_in[]" class="custom-select" id="__heightIn">
                                            <option value="0" selected="">0</option>
                                            <option value="0.062">1/16"</option>
                                            <option value="0.125">1/8"</option>
                                            <option value="0.187">3/16"</option>
                                            <option value="0.25">1/4"</option>
                                            <option value="0.312">5/16"</option>
                                            <option value="0.375">3/8"</option>
                                            <option value="0.437">7/16"</option>
                                            <option value="0.5">1/2"</option>
                                            <option value="0.562">9/16"</option>
                                            <option value="0.625">5/8</option>
                                            <option value="0.687">11/16"</option>
                                            <option value="0.75">3/4"</option>
                                            <option value="0.812">13/16"</option>
                                            <option value="0.875">7/8"</option>
                                            <option value="0.937">15/16"</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- end: H (in) -->

                            <div class="col-12 col-md-2 col-sm-6 widthDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="idwidth">W
                                            ({{ session()->get('unit') ?? 'in' }})</span>
                                    </div>
                                    <input name="width[]" type="number" value="0" min="0"
                                        class="form-control hwd-inp" step=".01" required>
                                    <div id="extraWidthOption" class="width_frac"
                                        {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                        <select name="width_in[]" class="custom-select" id="__widthIn">
                                            <option value="0" selected="">0</option>
                                            <option value="0.062">1/16"</option>
                                            <option value="0.125">1/8"</option>
                                            <option value="0.187">3/16"</option>
                                            <option value="0.25">1/4"</option>
                                            <option value="0.312">5/16"</option>
                                            <option value="0.375">3/8"</option>
                                            <option value="0.437">7/16"</option>
                                            <option value="0.5">1/2"</option>
                                            <option value="0.562">9/16"</option>
                                            <option value="0.625">5/8</option>
                                            <option value="0.687">11/16"</option>
                                            <option value="0.75">3/4"</option>
                                            <option value="0.812">13/16"</option>
                                            <option value="0.875">7/8"</option>
                                            <option value="0.937">15/16"</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- end: W (in) -->

                            <div class="col-12 col-md-2 col-sm-6 depthDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="idwidth">D
                                            ({{ session()->get('unit') ?? 'in' }})</span>
                                    </div>
                                    <input name="depth[]" type="number" value="0" min="0"
                                        class="form-control hwd-inp" step=".01">
                                    <div id="extraDepthOption" class="width_frac"
                                        {{ session()->get('unit') == 'mm' ? 'hidden' : '' }}>
                                        <select name="depth_in[]" class="custom-select" id="__depthIn" required>
                                            <option value="0" selected="">0</option>
                                            <option value="0.062">1/16"</option>
                                            <option value="0.125">1/8"</option>
                                            <option value="0.187">3/16"</option>
                                            <option value="0.25">1/4"</option>
                                            <option value="0.312">5/16"</option>
                                            <option value="0.375">3/8"</option>
                                            <option value="0.437">7/16"</option>
                                            <option value="0.5">1/2"</option>
                                            <option value="0.562">9/16"</option>
                                            <option value="0.625">5/8</option>
                                            <option value="0.687">11/16"</option>
                                            <option value="0.75">3/4"</option>
                                            <option value="0.812">13/16"</option>
                                            <option value="0.875">7/8"</option>
                                            <option value="0.937">15/16"</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <!-- end: D (in) -->

                            <div class="col-12 col-md-2 col-sm-6">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text font-weight-bold" id="basic-addon1">Qty</span>
                                    </div>
                                    <input name="quantity[]" type="number" step="1" value="1"
                                        class="form-control" min="1">
                                </div>
                            </div>
                            <!-- end: Qty -->

                            <div class="col-12 col-md-8 col-sm-12 noteDiv">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text items_notes_text">Notes <br> (Optional)</span>
                                        <span class="alertText text-danger"></span>
                                    </div>
                                    <textarea name="note[]" class="form-control note" rows="4" aria-label="With textarea" spellcheck="false"></textarea>
                                </div>
                            </div>
                            <!-- end: Notes -->
                            {{-- Note: This Code doesnt work properly --}}
                            <div class="col-6 col-md-6 col-sm-12 designDiv">
                                <div class="upload_design">
                                    <input type="file" id="actual-btn-2" class="design" name="design[]" />
                                    {{-- <label for="actual-btn-2">
                                        <span id="file-chosen-2" for="actual-btn">
                                            Upload Design
                                            <br />
                                            (pdf, jpg, png, CAD)
                                        </span>
                                        <span id="chosen-btn">
                                            Choose File
                                        </span>
                                    </label> --}}
                                </div>
                                <!--  end: upload_design-->
                            </div>
                            <!-- end:Upload Design -->
                            {{-- <div class="bdr"></div> --}}
                        </div>
                    </div>
                @endforelse
                <!-- end: row -->

                {{-- Reder New added item here  --}}
                <div id="newItems"></div>


                <div class="row product-btn">
                    <div class="col-12 col-md-12">
                        <div class="add-item-btn">
                            <button type="button" class="btn-dovetail" onclick="addNewItem()">Add Another
                                Item</button>
                        </div>
                    </div>

                    <div class="wish-cart-btn">
                        {{-- <button type="submit" name="action" value="wishlist"
                            class="btn-dovetail orderFormSubmitBtn wishlist-btn">Add
                            to
                            Wishlist</button> --}}
                        <button type="submit" name="action" class="btn-dovetail cart-btn">Proceed
                            to cart</button>
                    </div>
                </div>
                <!-- end: row - wishlist -->
            </form>

            {{-- FORM ENDS HERE --}}

            <div class="product-description">

                <h4>The Fine Print. </h4>
                <div class="product-description-wrap">
                    <ul class="">
                        <li> Adjustments to Rail size is free and it’s not considered a custom order. Please include
                            note and/or
                            attached drawings.</li>
                        <li>Priming options available at CART checkout.</li>
                        <li>Belmont Doors reserve the right to adjust pricing upon receiving drawing(s). If a price
                            adjustment
                            is required, we will contact and confirm approval before proceeding.</li>
                        <li>Additional programming charges, drawing(s), approval and payment will be required. </li>
                        <li> <strong> ✝ </strong> Frame/Mullion Lites $137.50 programming charge/size, additional
                            notes/drawings, approval may be required.</li>
                        <li>Due to the custom nature of our products and its varying factors, Delivery Charges are
                            calculated
                            after order is placed. Delivery will be calculated based on shipping destination, weight,
                            size and
                            quantity of items ordered and if skid is required. Acknowledgement is required at checkout.
                        </li>
                        <li>For additional details, please visit our FAQ, Terms and Conditions or simply call us at
                            +1.905.282.1722 (Monday - Thursday, 8 am - 4 pm, Friday, 8 am - 3 pm). </li>

                    </ul>
                </div>
            </div>
            <!-- end: product description -->

        </div>
        <!-- end: row -->
        </div>
    </section>

    <x-frontend.section name='scripts'>
        <script>
            // ajax form validation 
            $('#__orderEditForm').submit(function(e) {
                e.preventDefault();
                let formData = new FormData(this);

                $.ajax({
                    type: 'POST',
                    url: "{{ route('ajaxOrderValidation') }}",
                    data: formData,
                    contentType: false,
                    processData: false,
                    success: (response) => {
                        if (response.success == true) {
                            this.submit();
                        } else {
                            $('#wishlist_name').val('');
                            $('#ajax-error').empty();
                            response.errors.forEach(function(error, index) {
                                $('#ajax-error').append(
                                    '<div style="background: #FF5733; padding: 5px 10px; color:white;">' +
                                    error + '</div>'
                                );

                                $('html, body').animate({
                                    scrollTop: $("#ajax-error").offset().top
                                }, 10);
                            });

                        }
                    },
                    error: function(errors) {
                        console.log(errors);
                    }

                });
            });


            function changeUnit(el) {
                let unit = $(el).val();

                $.ajax({
                    url: "{{ route('changeUnit') }}",
                    method: 'get',
                    data: {
                        unit: unit
                    },
                    success: function(result) {
                        location.reload();
                    },
                    errors: function(error) {
                        console.log(error);
                    }
                });

            }




            function addNewItem() {
                let id = $('input[name="id[]"]:last').val();
                $.ajax({
                    url: "{{ route('addNewItem') }}?count=" + $("#newItems").children().length,
                    method: 'get',
                    data: {
                        id: id
                    },
                    success: function(result) {
                        $('#newItems').append(result);
                    },
                    errors: function(error) {
                        console.log(error);
                    }
                });
            }

            function removeItem(elm) {
                let item = $(elm).closest('.v-blocks');
                item.remove();
            }

            // Add image on select
            function getSelectedProduct(el) {
                let div = $(el).closest('.col-12');
                let ProductImageDiv = div.siblings('.showProductImageDiv');

                $.ajax({
                    url: "{{ route('getProductImage') }}",
                    method: 'get',
                    data: {
                        id: $(el).val(),
                    },
                    success: function(result) {
                        ProductImageDiv.html(result.html);

                        if (result.type == 1) {

                            div.siblings('.designDiv').find("input[type='file']").attr('required', 'true');
                            div.siblings('.designDiv').find("textarea").attr('required', 'true');
                            div.siblings('.widthDiv').css('visibility', 'hidden');
                            div.siblings('.heightDiv').css('visibility', 'hidden');
                            div.siblings('.depthDiv').css('visibility', 'hidden');
                        } else {
                            div.siblings('.designDiv').find("input[type='file']").removeAttr('required');
                            div.siblings('.designDiv').find("textarea").removeAttr('required');
                            div.siblings('.widthDiv').css('visibility', 'visible');
                            div.siblings('.heightDiv').css('visibility', 'visible');
                            div.siblings('.depthDiv').css('visibility', 'visible');

                        }

                    },
                    errors: function(error) {
                        console.log(error);
                    }
                });
            }

            function showProductImage(el) {
                let div = $(el).closest('.selected-product-show');
                let image = div.siblings('.indexPageProductImage');
                let attr = image.attr('hidden');
                if (typeof attr !== 'undefined' && attr !== false) {
                    image.removeAttr('hidden');
                } else {
                    image.attr('hidden', 'true');
                }
            }
        </script>
    </x-frontend.section>

</x-frontend.layout>
